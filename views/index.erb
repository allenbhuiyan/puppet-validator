<html>
<head>
  <title>Puppet Validator</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="scripts.js"></script>
</head>
<body>
  <h1>Puppet Code Validator</h1>
  <p>Paste Puppet code into the following textbox and check it for validity.</p>
  <form action="/validate" method="post">
    <div class="entry">
      <textarea name="code" id="code" cols="65" rows="25"></textarea>
      <input type="submit" value="Validate" id="validate">
      Puppet version
      <select id="versions">
        <% version = @versions.shift %><option value='/'><%= version %></option>
        <% @versions.each do |version| %>
        <option><%= version %></option>
        <% end %>
      </select>
      <label><input type="checkbox" name="lint" id="lint" onchange="toggleChecks();">Include <code>puppet-lint</code> style checks.</label>
      <a class="button" href="javascript:toggleMenu();">customize &#9662;</a>
      <fieldset id="checks-menu" class="menu">
        <legend>Enabled Lint Checks</legend>
        <ul id="checks">
          <% @checks.each do |check| %>
          <li><label>
            <input type="checkbox" name="checks[]" value="<%= check %>" id="check_<%= check %>" <% unless @disabled.include? check %>checked<% end %>><%= check %></input>
          </label></li>
          <% end %>
        </ul>
      </fieldset>
    </div>
  </form>
  <p class="info">
    Be aware that this <em>only validates syntax</em>. It will not compile or
    enforce a catalog, which means that there are many mistakes that it cannot
    identify. See <a href="/testing.html">more information on testing and
    validating Puppet code.</a>
  </p>
</body>
</html>
